---
phase: 07.1-rename-lsp30-to-lsp31-copy-license-to-all-packages-remove-prepack-postpack-license-scripts
plan: 01
subsystem: packages
tags: [lsp31, license, rename, package-metadata]

# Dependency graph
requires:
  - phase: 06-package-metadata
    provides: Package metadata and publish readiness
provides:
  - "@chillwhales/lsp31 package with renamed exports"
  - "Permanent LICENSE files in all 8 publishable packages"
  - "Clean package.json scripts (no prepack/postpack)"
affects: [release-automation, ci-pipeline]

# Tech tracking
tech-stack:
  added: []
  patterns:
    - "Permanent LICENSE in package directories instead of dynamic copy at pack time"

key-files:
  created:
    - packages/lsp31/ (renamed from packages/lsp30/)
    - packages/lsp31/LSP-31-MultiStorageURI.md (renamed from LSP-30)
    - packages/utils/LICENSE
    - packages/lsp2/LICENSE
    - packages/lsp3/LICENSE
    - packages/lsp4/LICENSE
    - packages/lsp6/LICENSE
    - packages/lsp23/LICENSE
    - packages/lsp29/LICENSE
    - packages/lsp31/LICENSE
  modified:
    - packages/lsp31/package.json
    - packages/lsp31/src/constants.ts
    - packages/lsp31/src/schemas.ts
    - packages/lsp31/src/types.ts
    - packages/lsp31/src/guards.ts
    - packages/lsp31/src/decode.ts
    - packages/lsp31/src/encode.ts
    - packages/lsp31/src/resolve.ts
    - packages/lsp31/src/index.ts
    - packages/lsp31/src/decode.test.ts
    - packages/lsp31/src/encode.test.ts
    - packages/lsp31/src/guards.test.ts
    - packages/lsp31/src/resolve.test.ts
    - packages/lsp31/README.md
    - packages/utils/package.json
    - packages/lsp2/package.json
    - packages/lsp3/package.json
    - packages/lsp4/package.json
    - packages/lsp6/package.json
    - packages/lsp23/package.json
    - packages/lsp29/package.json
    - README.md
    - .gitignore
    - pnpm-lock.yaml

key-decisions:
  - "Reserved prefix changed from 0x0030 to 0x0031 to match LSP31 standard number"
  - "LICENSE committed permanently in all packages instead of dynamic copy at pack time"

patterns-established:
  - "Permanent LICENSE: LICENSE files live in each package directory, committed to git"

requirements-completed: [RENAME-01, LICENSE-01, LICENSE-02]

# Metrics
duration: 7min
completed: 2026-03-01
---

# Phase 7.1 Plan 01: Rename LSP30 to LSP31, Copy LICENSE, Remove prepack/postpack Summary

**Renamed @chillwhales/lsp30 to @chillwhales/lsp31 with all exports updated (reserved prefix 0x0031), committed LICENSE in all 8 packages, removed prepack/postpack scripts**

## Performance

- **Duration:** 7 min
- **Started:** 2026-03-01T11:48:59Z
- **Completed:** 2026-03-01T11:56:41Z
- **Tasks:** 2
- **Files modified:** 37

## Accomplishments
- Renamed @chillwhales/lsp30 to @chillwhales/lsp31 with all exports (lsp31/Lsp31/LSP31), reserved prefix 0x0031, updated spec, README, and root README
- Committed LICENSE permanently in all 8 publishable packages (utils, lsp2, lsp3, lsp4, lsp6, lsp23, lsp29, lsp31)
- Removed prepack/postpack scripts from all 8 package.json files
- All 415 tests pass, all packages build successfully

## Task Commits

Each task was committed atomically:

1. **Task 1: Rename lsp30 package to lsp31** - `084f4f7` (feat)
2. **Task 2: Copy LICENSE to all packages and remove prepack/postpack scripts** - `ba5c809` (chore)

## Files Created/Modified
- `packages/lsp31/` - Renamed package directory (was lsp30)
- `packages/lsp31/src/*.ts` - All source files with lsp31-named exports
- `packages/lsp31/src/*.test.ts` - All test files with lsp31-named imports
- `packages/lsp31/LSP-31-MultiStorageURI.md` - Renamed spec file
- `packages/*/LICENSE` - Permanent LICENSE in all 8 packages
- `packages/*/package.json` - Removed prepack/postpack from all 8 packages
- `.gitignore` - Removed `packages/*/LICENSE` exclusion
- `README.md` - Updated lsp30 link to lsp31
- `pnpm-lock.yaml` - Regenerated for renamed package

## Decisions Made
- Reserved prefix changed from 0x0030 to 0x0031 to match LSP31 standard number
- LICENSE committed permanently in all packages instead of dynamic copy at pack time â€” simpler, more reliable, compatible with changesets publish

## Deviations from Plan

None - plan executed exactly as written.

## Issues Encountered
None

## User Setup Required
None - no external service configuration required.

## Next Phase Readiness
- Phase 7.1 complete (single plan)
- All packages build and test cleanly with renamed lsp31 and permanent LICENSE files
- Ready for next phase or milestone completion

## Self-Check: PASSED

All key files verified on disk. All commit hashes found in git log.

---
*Phase: 07.1-rename-lsp30-to-lsp31-copy-license-to-all-packages-remove-prepack-postpack-license-scripts*
*Completed: 2026-03-01*
